<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="bones" defaultIdMethod="native" namespace="Bones\CoreBundle\Model">
  <table name="acl_permission" phpName="AclPermission" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="module" phpName="Module" type="VARCHAR" size="20" required="false"/>
    <column name="role_id" phpName="RoleId" type="INTEGER" required="false"/>
    <column name="resource" phpName="Resource" type="VARCHAR" size="500" required="false"/>
    <column name="actions" phpName="Actions" type="LONGVARCHAR" required="false"/>
    <column name="permission" phpName="Permission" type="INTEGER" required="false" defaultValue="0"/>
    <foreign-key foreignTable="acl_role" name="acl_permission_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="role_id" foreign="id"/>
    </foreign-key>
    <index name="FK_acl_permissions">
      <index-column name="role_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="acl_role" phpName="AclRole" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="name" phpName="Name" type="VARCHAR" size="20" required="true"/>
    <column name="parent_role" phpName="ParentRole" type="INTEGER" required="false"/>
    <column name="is_front_end" phpName="IsFrontEnd" type="TINYINT" required="false" defaultValue="0"/>
    <foreign-key foreignTable="acl_role" name="acl_role_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="parent_role" foreign="id"/>
    </foreign-key>
    <index name="acl_roles_ibfk_1">
      <index-column name="parent_role"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="admin" phpName="Admin" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="first_name" phpName="FirstName" type="VARCHAR" size="50" required="true"/>
    <column name="last_name" phpName="LastName" type="VARCHAR" size="50" required="true"/>
    <column name="username" phpName="Username" type="VARCHAR" size="20" required="true"/>
    <column name="password" phpName="Password" type="VARCHAR" size="64" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="100" required="true"/>
    <column name="role" phpName="Role" type="INTEGER" required="false"/>
    <foreign-key foreignTable="acl_role" name="admin_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="role" foreign="id"/>
    </foreign-key>
    <unique name="uniq_admin_email">
      <unique-column name="email"/>
    </unique>
    <index name="FK_admins_roles">
      <index-column name="role"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="album" phpName="Album" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="title" phpName="Title" type="VARCHAR" size="500" required="true"/>
    <column name="title_slug" phpName="TitleSlug" type="VARCHAR" size="255" required="true"/>
    <column name="description" phpName="Description" type="VARCHAR" size="500" required="false"/>
    <column name="gallery_id" phpName="GalleryId" type="INTEGER" required="true"/>
    <column name="cover_photo_id" phpName="CoverPhotoId" type="INTEGER" required="false"/>
    <column name="rank" phpName="Rank" type="INTEGER" required="false" defaultValue="1"/>
    <column name="is_public" phpName="IsPublic" type="INTEGER" required="false" defaultValue="0"/>
    <column name="max_width" phpName="MaxWidth" type="INTEGER" required="false"/>
    <column name="max_height" phpName="MaxHeight" type="INTEGER" required="false"/>
    <foreign-key foreignTable="gallery" name="album_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="gallery_id" foreign="id"/>
    </foreign-key>
    <index name="FK_album">
      <index-column name="gallery_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="file" phpName="File" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="filename" phpName="Filename" type="VARCHAR" size="255" required="true"/>
    <column name="mimetype" phpName="Mimetype" type="VARCHAR" size="50" required="false"/>
    <column name="size" phpName="Size" type="INTEGER" required="false"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="files_tracker" phpName="FilesTracker" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="referer_url" phpName="RefererUrl" type="VARCHAR" size="500" required="false"/>
    <column name="ip_addess" phpName="IpAddess" type="VARCHAR" size="20" required="false"/>
    <column name="fileName" phpName="Filename" type="VARCHAR" size="500" required="false"/>
    <column name="downloaded_time" phpName="DownloadedTime" type="TIMESTAMP" required="false"/>
    <index name="ip_addess">
      <index-column name="ip_addess"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="gallery" phpName="Gallery" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="title" phpName="Title" type="VARCHAR" size="500" required="true"/>
    <column name="title_slug" phpName="TitleSlug" type="VARCHAR" size="500" required="true"/>
    <column name="description" phpName="Description" type="LONGVARCHAR" required="false"/>
    <column name="created" phpName="Created" type="TIMESTAMP" required="false"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="ip_to_country" phpName="IpToCountry" idMethod="native">
    <column name="ID" phpName="Id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="ip_from" phpName="IpFrom" type="VARCHAR" size="100" required="false"/>
    <column name="ip_to" phpName="IpTo" type="VARCHAR" size="100" required="false"/>
    <column name="sigla" phpName="Sigla" type="VARCHAR" size="255" required="false"/>
    <column name="code" phpName="Code" type="VARCHAR" size="255" required="false"/>
    <column name="country" phpName="Country" type="VARCHAR" size="255" required="false"/>
    <index name="ipranges">
      <index-column name="ip_from"/>
      <index-column name="ip_to"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="journal" phpName="Journal" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="title" phpName="Title" type="VARCHAR" size="1024" required="true"/>
    <column name="title_slug" phpName="TitleSlug" type="VARCHAR" size="1024" required="true"/>
    <column name="text_abstract" phpName="TextAbstract" type="LONGVARCHAR" required="false"/>
    <column name="show_title" phpName="ShowTitle" type="TINYINT" required="false" defaultValue="1"/>
    <column name="show_abstract" phpName="ShowAbstract" type="TINYINT" required="false" defaultValue="1"/>
    <column name="show_fulltext" phpName="ShowFulltext" type="TINYINT" required="false" defaultValue="1"/>
    <column name="show_file_upload" phpName="ShowFileUpload" type="TINYINT" required="false" defaultValue="1"/>
    <column name="post_order_type" phpName="PostOrderType" type="VARCHAR" size="50" required="false" defaultValue="rank"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="journal_post" phpName="JournalPost" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="title" phpName="Title" type="VARCHAR" size="1024" required="true"/>
    <column name="title_slug" phpName="TitleSlug" type="VARCHAR" size="1024" required="true"/>
    <column name="text_abstract" phpName="TextAbstract" type="LONGVARCHAR" required="false"/>
    <column name="content" phpName="Content" type="LONGVARCHAR" required="false"/>
    <column name="tags" phpName="Tags" type="VARCHAR" size="500" required="false"/>
    <column name="creator_user_id" phpName="CreatorUserId" type="INTEGER" required="false"/>
    <column name="created" phpName="Created" type="TIMESTAMP" required="false"/>
    <column name="editor_user_id" phpName="EditorUserId" type="INTEGER" required="false"/>
    <column name="edited" phpName="Edited" type="TIMESTAMP" required="false"/>
    <column name="start_date" phpName="StartDate" type="TIMESTAMP" required="false"/>
    <column name="end_date" phpName="EndDate" type="TIMESTAMP" required="false"/>
    <column name="rank" phpName="Rank" type="INTEGER" required="false"/>
    <column name="is_public" phpName="IsPublic" type="TINYINT" required="false"/>
    <column name="journal_id" phpName="JournalId" type="INTEGER" required="true"/>
    <column name="file_id" phpName="FileId" type="INTEGER" required="false"/>
    <column name="file_type" phpName="FileType" type="VARCHAR" size="10" required="true"/>
    <foreign-key foreignTable="journal" name="journal_post_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="journal_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="file" name="journal_post_ibfk_2" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="file_id" foreign="id"/>
    </foreign-key>
    <index name="journal_id">
      <index-column name="journal_id"/>
    </index>
    <index name="FK_journal_post">
      <index-column name="file_id"/>
    </index>
    <index name="FK_journal_post_creator">
      <index-column name="creator_user_id"/>
    </index>
    <index name="FK_journal_post_editor">
      <index-column name="editor_user_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="language" phpName="Language" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="lang" phpName="Lang" type="VARCHAR" size="10" required="false"/>
    <column name="locale" phpName="Locale" type="VARCHAR" size="10" required="false"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="photo" phpName="Photo" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="album_id" phpName="AlbumId" type="INTEGER" required="true"/>
    <column name="file_id" phpName="FileId" type="INTEGER" required="true"/>
    <foreign-key foreignTable="album" name="photo_ibfk_1" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="album_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="file" name="photo_ibfk_2" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="file_id" foreign="id"/>
    </foreign-key>
    <index name="FK_photos">
      <index-column name="album_id"/>
    </index>
    <index name="FK_photos_files">
      <index-column name="file_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="user" phpName="User" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="first_name" phpName="FirstName" type="VARCHAR" size="100" required="true"/>
    <column name="last_name" phpName="LastName" type="VARCHAR" size="100" required="true"/>
    <column name="email" phpName="Email" type="VARCHAR" size="255" required="true"/>
    <column name="password" phpName="Password" type="VARCHAR" size="64" required="true"/>
    <column name="created" phpName="Created" type="TIMESTAMP" required="false"/>
    <column name="last_login" phpName="LastLogin" type="TIMESTAMP" required="false"/>
    <column name="role" phpName="Role" type="TINYINT" required="true" defaultValue="0"/>
    <column name="meta_columns" phpName="MetaColumns" type="LONGVARCHAR" required="false"/>
    <column name="created_at" phpName="CreatedAt" type="TIMESTAMP" required="false"/>
    <column name="updated_at" phpName="UpdatedAt" type="TIMESTAMP" required="false"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="wedding" phpName="Wedding" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="wedding_date" phpName="WeddingDate" type="TIMESTAMP" required="false"/>
    <column name="wedding_url" phpName="WeddingUrl" type="VARCHAR" size="64" required="false"/>
    <column name="created_at" phpName="CreatedAt" type="TIMESTAMP" required="false"/>
    <column name="updated_at" phpName="UpdatedAt" type="TIMESTAMP" required="false"/>
    <column name="owner_id" phpName="OwnerId" type="INTEGER" required="true"/>
    <column name="meta_columns" phpName="MetaColumns" type="LONGVARCHAR" required="false"/>
    <foreign-key foreignTable="user" name="wedding_owner_fk" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="owner_id" foreign="id"/>
    </foreign-key>
    <unique name="uniq_onwer">
      <unique-column name="owner_id"/>
    </unique>
    <unique name="uniq_wedding_name">
      <unique-column name="wedding_url"/>
    </unique>
    <index name="FK_wedding_owner">
      <index-column name="owner_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="wedding_invitation" phpName="WeddingInvitation" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="wedding_id" phpName="WeddingId" type="INTEGER" required="true"/>
    <column name="sender_id" phpName="SenderId" type="INTEGER" required="true"/>
    <column name="recipient_email" phpName="RecipientEmail" type="VARCHAR" size="255" required="true"/>
    <column name="sent" phpName="Sent" type="TINYINT" required="true" defaultValue="0"/>
    <column name="status" phpName="Status" type="TINYINT" required="true" defaultValue="0"/>
    <column name="created_at" phpName="CreatedAt" type="TIMESTAMP" required="false"/>
    <column name="updated_at" phpName="UpdatedAt" type="TIMESTAMP" required="false"/>
    <unique name="single_wedding_request">
      <unique-column name="wedding_id"/>
      <unique-column name="sender_id"/>
      <unique-column name="recipient_email"/>
    </unique>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="wedding_user" phpName="WeddingUser" idMethod="native">
    <column name="user_id" phpName="UserId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="wedding_id" phpName="WeddingId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="role" phpName="Role" type="TINYINT" required="true"/>
    <foreign-key foreignTable="user" name="wedding_user_user_fk" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="user_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="wedding" name="wedding_user_wedding_fk" onDelete="RESTRICT" onUpdate="RESTRICT">
      <reference local="wedding_id" foreign="id"/>
    </foreign-key>
    <index name="FI_ding_user_wedding_fk">
      <index-column name="wedding_id"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
</database>
